# Работу выполнила Гудошникова Юлия Владимировна БПИ217
# Название проекта

Проект состоит из двух частей: 
- Микросервис для авторизации пользователей (AuthService)
- Микросервис для обработки заказов (OrderService)

## Установка и настройка

Перед запуском проекта создайте файл .env по примеру .env.example указав такие же переменные окружения с другими (необходимыми) значениями.

Аналогично создайте файлы .env для каждого из микросервисов внутри соответствующей папки.


Запустите проект, поднимутся сразу оба микросервиса и обе базы данных:
```shell
$ docker compose up -d
```

По умолчанию сервис авторизации поднимается на порте 8001, сервис обработки заказов на порте 8002.

Изменить порты можно в docker-compose.yml

## Структура проекта
```
project/
├── AuthService/                   # Каталог сервиса аутентификации
│   ├── .postgres/                 # Файлы Postgres для сервиса авторизации
│   ├── src/                       # Исходный код сервиса
│   │   ├── sessions/              # Каталог для работы с сессиями
│   │   │   ├── router.py          # Маршруты для сессий
│   │   │   ├── schemas.py         # Схемы данных для сессий
│   │   ├── users/                 # Каталог для работы с пользователями
│   │   │   ├── router.py          # Маршруты для пользователей
│   │   │   ├── schemas.py         # Схемы данных для пользователей
│   │   ├── database.py            # Код для работы с базой данных
│   │   ├── models.py              # Модели данных
│   │   ├── main.py                # Главный файл сервиса
│   ├── Dockerfile                 # Dockerfile для сервиса
│   ├── Dockerignore               # Игнорируемые файлы для Docker
│   ├── .env                       # Файл с переменными окружения
│   ├── .gitignore                 # Игнорируемые файлы для Git
│   ├── requirements.txt           # Зависимости проекта
│   └── ...                        # Другие файлы и каталоги сервиса
├── OrderService/                  # Каталог сервиса заказов
│   ├── .postgres/                 # Файлы Postgres для сервиса заказов
│   ├── src/                       # Исходный код сервиса
│   │   ├── dishes/                # Каталог для работы с блюдами
│   │   │   ├── router.py          # Маршруты для блюд
│   │   │   ├── schemas.py         # Схемы данных для блюд
│   │   ├── orders/                # Каталог для работы с заказами
│   │   │   ├── router.py          # Маршруты для заказов
│   │   │   ├── schemas.py         # Схемы данных для заказов
│   │   ├── database.py            # Код для работы с базой данных
│   │   ├── models.py              # Модели данных
│   │   ├── main.py                # Главный файл приложения
│   ├── Dockerfile                 # Dockerfile для сервиса заказов
│   ├── Dockerignore               # Игнорируемые файлы для Docker
│   ├── .env                       # Файл с переменными окружения
│   ├── .gitignore                 # Игнорируемые файлы для Git
│   ├── requirements.txt           # Зависимости проекта
│   └── ...                        # Другие файлы и каталоги сервиса
├── README.md                      # Файл README с описанием проекта
├── .gitignore                     # Игнорируемые файлы для Git
└── docker-compose.yml             # Файл Docker Compose для запуска всех сервисов
```

## Архитектура проекта

Проект имеет архитектуру, основанную на FastAPI, SQLAlchemy и Pydantic. В нем используется два сервиса: AuthService (сервис аутентификации) и OrderService (сервис заказов). Каждый сервис имеет свои роутеры и схемы данных, работает с базой данных PostgreSQL через SQLAlchemy и использует Pydantic для определения схем данных. Все зависимости указаны в requirements.txt, и для удобного развертывания применяется Docker Compose.

## Спецификаци API
Описана в Swagger для каждого сервиса

При запуске локально с портами по умолчанию:
- http://localhost:8000/docs - Swagger для AuthService
- http://localhost:8001/docs - Swagger для OrderService